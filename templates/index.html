<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mailbox Deliverability Monitoring</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Mailbox Deliverability Monitoring</h1>

        <div class="section">
            <h2>Configuration</h2>
            <div class="input-group">
                <label for="apiKey">Smartlead API:</label>
                <input type="password" id="apiKey" name="apiKey" placeholder="Enter your Smartlead API Key">
            </div>
            
            <div class="input-group">
                <label>Smartlead Campaign IDs:</label> <!-- Changed label -->
                <div id="campaignIdsContainer">
                    <!-- Campaign ID inputs will be dynamically added here by JavaScript -->
                </div>
                <button type="button" id="addCampaignIdButton" style="margin-top: 5px;">Add Campaign ID</button>
            </div>

            <div class="input-group">
                <label for="frequency">How often to run diagnostics:</label>
                <select id="frequency" name="frequency">
                    <option value="60">Every hour</option>
                    <option value="180">Every 3 hours</option>
                    <option value="720">Every 12 hours</option>
                </select> 
            </div>
            <p id="nextRunTimerDisplay" style="margin-top: 5px; margin-bottom: 15px;">Next auto-run: (Not scheduled)</p>
            
            <button id="saveConfigButton">Save Configuration</button>
            <p id="configStatus" class="status-message"></p>
        </div>

        <hr class="separator">

        <div class="section">
            <h2>Run Diagnostics</h2>
            <p><small>Uses the API Key and Campaign ID currently entered above (does not need to be saved first for this run).</small></p>
            <button id="runDiagnosticsButton">Run Diagnostics Now</button>
        </div>
        
        <hr class="separator">

        <h2>Log Output:</h2>
        <pre id="logOutput" class="log-output">No activity yet.</pre>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
